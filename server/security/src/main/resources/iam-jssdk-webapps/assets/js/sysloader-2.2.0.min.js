var VAR_PLUGIN_MODULES="${{plugin_modules}}";
(function(n,k,u){var f=u;(function(){Date.prototype.format=function(a){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var b in c)(new RegExp("("+b+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?c[b]:("00"+c[b]).substr((""+c[b]).length)));return a}})();var q=function(a){var c=
/^(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])$/.test(a);a=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(a);
return c||a},r=function(a){a=Object.assign({host:location.hostname,checkDevEnvHostPatterns:"localhost 127.0.0.1 0:0:0:0:0:0:0:1 *.debug *.local *.dev".split(" "),devServerHost:null,serverPort:null,enableFallbackServerPort:!1,serverHostForSubLevelDomain:"iam"},a);var c=location.protocol,b=a.host,d=a.serverPort,e="";null==d&&a.enableFallbackServerPort&&(d=location.port);null!=d&&0<parseInt(d)&&80!=parseInt(d)&&443!=parseInt(d)&&(e=":"+d);d=a.checkDevEnvHostPatterns.find(function(a){return b==a||b.endsWith(a.substring(a.lastIndexOf("*")+
1))});if(q(b)||d)return a.devServerHost?a.devServerHost:c+"//"+b+e;d=b.split(".").slice(-2).join(".");0<b.indexOf("com.cn")&&(d=b.split(".").slice(-3).join("."));return c+"//"+a.serverHostForSubLevelDomain+"."+d+e},v=function(a){for(m in f.modules){var c=f.modules[m];if(a==c.modName)return c}},t=function(a){for(var c=[],b=0;b<f.dependencies.length;b++){for(var d=!1,e=0;e<f.dependencies[b].features.length;e++)if(f.dependencies[b].features[e]==a){d=!0;break}if(d)for(d=0;d<f.dependencies[b].depends.length;d++)e=
v(f.dependencies[b].depends[d]),c.push(e)}a=[];if(c&&0<c.length){a=[c[0]];for(b=1;b<c.length;b++){d=!1;for(e=0;e<a.length;e++)if(c[b].stable==a[e].stable||c[b].grey==a[e].grey){d=!0;break}d||a.push(c[b])}a.sort(function(a,c){return a.ratio-c.ratio})}return 0==a.length?null:{modules:a}},w=function(a){var c=k.location.pathname;a||(a="./");if(0<=a.indexOf("././"))throw Error("Illegal path '"+a+"'");if(a.startsWith("./"))return c.substring(0,c.lastIndexOf("/"))+a.substring(a.indexOf("./")+2);if(a.startsWith("../")){var b=
a.split("../");a="";var d=0,e;for(e in b)""==b[e]?d+=1:a+=b[e]+"/";c=c.split("/");e="";for(b=0;b<c.length-d-1;b++)e+=c[b]+"/";return e+a}return a},h=function(){var a={path:"",cache:"false",mode:"stable",refreshLevel:"yyMMddhh"},c,b=k.getElementsByTagName("script"),b=b[b.length-1];if(b=k.currentScript||b){if(c=b.getAttribute("src")){var d=c.split("/");if(c.toLocaleUpperCase().startsWith("HTTP")){c="";for(var e=0;e<d.length;e++)e<d.length-2&&(c+=d[e]+"/");c.substring(0,c.length-1)}}c=b.getAttribute("fileUriPort");
e=b.getAttribute("fileUriDomainSubLevel");d=b.getAttribute("path")||a.path;d.toUpperCase().startsWith("HTTP://")||d.toUpperCase().startsWith("HTTPS://")?a.path=d:(c=r({serverPort:c,serverHostForSubLevelDomain:e}),a.path=c+w(d));a.cache=b.getAttribute("cache")||a.cache;a.mode=b.getAttribute("mode")||a.mode}else console.warn("Not currently running in a formal environment!");console.debug("Using IAM JSSDK settings: ",a);a.cache&&console.debug("IAM JSSDK cache is enabled!");"grey"==a.mode&&console.warn("Using IAM JSSDK [GREY] mode!");
return a}();n.LoaderJS=function(a){if(a&&(f||f==VAR_PLUGIN_MODULES)){var c=f;try{c=JSON.stringify(f)}catch(b){}console.debug("Overlay default modules: "+c);f=a}if(!f)throw Error("Must configure modules dependencies!");console.debug("Plugin modules : "+JSON.stringify(f))};LoaderJS.prototype.use=function(a,c,b){this.useCss(a,function(){},b);this.useJs(a,c,b)};LoaderJS.prototype.useJs=function(a,c,b){if("[object Function]"==Object.prototype.toString.call(a)||!a||null==c||!c)throw Error("useJs parameters (feature, callback) is required!");
var d=h.path+"/js/",e=h.cache,f=h.mode,p=(new Date).format(h.refreshLevel),l=t(a);if(!l)throw Error("No such module feature of '"+a+"'");(function(b,d,e){b.forEach(function(f,x){if(n[f.modName])console.debug("Skip already load script module '"+f.modName+"'"),c();else if(f=(d||"")+f.url,e){var g=k.createElement("script");g.type="text/javascript";g.charset="UTF-8";g.src=f;g.async=!0;x==b.length-1&&(g.onload=g.onreadystatechange=function(b){g.readyState&&"loaded"!=g.readyState&&"complete"!=g.readyState||
(console.debug("Loaded scripts feature: "+a+", readyState: "+this.readyState),c())});k.head.appendChild(g)}else k.write('\x3cscript type\x3d"text/javascript" src\x3d"'+f+'"\x3e\x3c/script\x3e')});e||c()})(l.modules.map(function(a){"true"==e||(new Date).getTime();return{modName:a.modName,url:a[f]+"?t\x3d"+p}}),d,b||!0)};LoaderJS.prototype.useCss=function(a,c,b){if("[object Function]"==Object.prototype.toString.call(a)||!a||null==c||!c)throw Error("useCss parameters (feature, callback) is required!");
var d=h.path+"/css/",e=h.cache,f=h.mode,p=(new Date).format(h.refreshLevel),l=t(a);if(!l)throw Error("No such module feature of '"+a+"'");(function(b,d,e){b.forEach(function(f,h){if(n[f.modName])console.debug("Skip already load css module '"+f.modName+"'"),c();else if(f=(d||"")+f.url,e){var g=k.createElement("link");g.rel="stylesheet";g.charset="UTF-8";g.href=f;g.async=!1;h==b.length-1&&(g.onload=g.onreadystatechange=function(b){g.readyState&&"loaded"!=g.readyState&&"complete"!=g.readyState||(console.debug("Loaded links feature: "+
a+", readyState: "+this.readyState),c())});k.head.appendChild(g)}else k.write('\x3clink rel\x3d"stylesheet" href\x3d"'+f+'" /\x3e')});e||c()})(l.modules.filter(function(a){return null!=a["css_"+f]&&""!=a["css_"+f]}).map(function(a){"true"==e||(new Date).getTime();return{modName:a.modName,url:a["css_"+f]+"?t\x3d"+p}}),d,b||!0)};LoaderJS.isIp=q;LoaderJS.getServerBaseURI=r})(window,document,VAR_PLUGIN_MODULES);